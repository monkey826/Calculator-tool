var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},wijmo;(function(e){(function(t){var n=jQuery,r="wijcheckbox",i="wijcheckbox",s=0,o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._bindEvents=function(){var e=this,t=e.options,n=e.element;n.bind("click.wijcheckbox",function(t){if(e._isDisabled())return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.wijcheckbox",function(){if(e._isDisabled())return;e.boxElement&&e.boxElement.addClass(t.wijCSS.stateFocus)}).bind("blur.wijcheckbox",function(){if(e._isDisabled())return;e.boxElement&&e.boxElement.removeClass(t.wijCSS.stateFocus).not("."+t.wijCSS.stateHover)}).bind("keydown.wijcheckbox",function(t){if(t.keyCode===32){if(e._isDisabled())return;e.refresh(null)}}),e.boxElement&&e.boxElement.bind("mouseover.wijcheckbox",function(){n.mouseover()}).bind("mouseout.wijcheckbox",function(){n.mouseout()}).bind("click.wijcheckbox",function(t){if(e._isDisabled())return;n.get(0).checked=!n.get(0).checked,n.change(),n.focus(),e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}),e.checkboxElement&&e.checkboxElement.bind("mouseover.wijcheckbox",function(n){if(e._isDisabled())return;e.boxElement&&e.boxElement.addClass(t.wijCSS.stateHover)}).bind("mouseout.wijcheckbox",function(n){if(e._isDisabled())return;e.boxElement&&e.boxElement.removeClass(t.wijCSS.stateHover).not("."+t.wijCSS.stateFocus)})},t.prototype._unbindEvents=function(){var e=this;e.element.unbind(".wijcheckbox"),e.boxElement&&e.boxElement.unbind(".wijcheckbox"),e.checkboxElement&&e.checkboxElement.unbind(".wijcheckbox")},t.prototype._decorateCheckbox=function(){var e=this,t=e.element,r=e.options,i,s,o,u,a;i=e._getCheckboxElement(),o=n("label[for='"+t.attr("id")+"']"),o.length>0&&(i.append(o),o.attr("labelsign","C1")),u=e._getBoxElement(),a=u.children("."+r.wijCSS.wijcheckboxIcon),i.append(u),u.removeClass(r.wijCSS.wijcheckboxRelative).attr("role","checkbox"),(o.length===0||o.html()==="")&&u.addClass(r.wijCSS.wijcheckboxRelative),this.iconElement=a,this.boxElement=u,this.checkboxElement=i},t.prototype._getBoxElement=function(){var e=this.options,t=n("<div></div>").addClass(e.wijCSS.wijcheckboxBox).addClass(e.wijCSS.widget).addClass(e.wijCSS.stateDefault).addClass(e.wijCSS.cornerAll).append(n("<span></span>").addClass(e.wijCSS.wijcheckboxIcon));return this._isDisabled()&&t.addClass(e.wijCSS.stateDisabled),t},t.prototype._getCheckboxElement=function(){var e=this,t=e.element,r=e.options,i,s;return t.parent().is("label")?(i=t.parent().wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),s=t.parent(),s.attr("for",t.attr("id")),i.find("."+r.wijCSS.wijcheckboxInputwrapper).append(t),i.append(s)):i=t.wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),i.attr("title",t.attr("title")),i},t.prototype._create=function(){var t=this,r=t.element;if(!r.is(":checkbox"))return;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),r.attr("id")||(r.attr("id",i+s),s+=1),r.is(":disabled")&&t._setOption("disabled",!0),t._decorateCheckbox(),t._initCheckState(),t.refresh(),t._bindEvents(),e.prototype._create.call(this)},t.prototype._setOption=function(t,n){var r=this,i=r.options,s,o=i.checked;if(i[t]===n)return;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.get(0).checked=n,r.refresh(),r._trigger("changed",null,{checked:n}))},t.prototype._innerDisable=function(){e.prototype._innerDisable.call(this),this._toggleDisableCheckBox(!0)},t.prototype._innerEnable=function(){e.prototype._innerEnable.call(this),this._toggleDisableCheckBox(!1)},t.prototype._toggleDisableCheckBox=function(e){this.element.prop("disabled",e),this.boxElement&&this.boxElement.toggleClass(this.options.wijCSS.stateDisabled,e)},t.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},t.prototype.refresh=function(e){var t=this,n=t.options,r=t.element.get(0).checked;n.checked=r,t.iconElement&&t.iconElement.toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,r),t.boxElement&&t.boxElement.toggleClass(n.wijCSS.stateActive,r).attr("aria-checked",r),t.checkboxElement&&t.checkboxElement.toggleClass(n.wijCSS.stateChecked,r),e&&e.stopPropagation()},t.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),t._unbindEvents(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijcheckbox=o;var u=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();o.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new u),n.wijmo.registerWidget(r,o.prototype)})(e.checkbox||(e.checkbox={}));var t=e.checkbox})(wijmo||(wijmo={}));