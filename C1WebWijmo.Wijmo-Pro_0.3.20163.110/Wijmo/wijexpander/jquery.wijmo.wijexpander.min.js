var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},wijmo;(function(e){(function(t){var n=jQuery,r="wijexpander",i="ui-expander-content",s=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r.prototype._setOption=function(e,t){var r=this.element.find("> ."+i);switch(e){case"contentUrl":t?r.wijContent(t):r.html(this.storeContentHTML);break;case"expandDirection":this._onDirectionChange(t,!0,this.options.expandDirection);break;case"expanded":t?this.expand():this.collapse();return;default:}n.wijmo.widget.prototype._setOption.apply(this,arguments)},r.prototype._innerDisable=function(){t.prototype._innerDisable.call(this),this._toggleDisableExpander(!0)},r.prototype._innerEnable=function(){t.prototype._innerEnable.call(this),this._toggleDisableExpander(!1)},r.prototype._toggleDisableExpander=function(e){var t=this.element.find("> ."+i);this.element.toggleClass(this.options.wijCSS.stateDisabled,e).find("> .ui-expander-header").toggleClass(this.options.wijCSS.stateDisabled,e),t.toggleClass(this.options.wijCSS.stateDisabled,e)},r.prototype._create=function(){var r=this.options,s=this.element.children(),o,u,a=r.wijCSS;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this.element.addClass("wijmo-wijexpander ui-expander "+r.wijCSS.widget+" ui-expander-icons").attr("role","tablist"),this.header=o=n(s[0]),this.content=u=n(s[1]);if(r.expandDirection==="left"||r.expandDirection==="top")o.remove(),o.insertAfter(u);o.addClass("ui-expander-header"),o.attr("role","tab"),u.attr("role","tabpanel"),o.find("> a").length===0&&(o.wrapInner('<a href="javascript:void(null)"></a>'),this.headerLink=o.children()),o.find("> ."+e.getCSSSelector(a.icon)).length===0&&(this.headerIcon=n("<span></span>").addClass(a.icon).insertBefore(n("> a",o)[0])),u.addClass(i+" "+a.content),this.storeContentHTML=u.html(),t.prototype._create.call(this)},r.prototype._init=function(){var t=this.options,n=this.element.find("> ."+i);this._onDirectionChange(t.expandDirection,!1),t.contentUrl&&n.wijContent(this.options.contentUrl),t.expanded?(this.element.find("> .ui-expander-header").addClass(t.wijCSS.stateDefault+" "+t.wijCSS.stateActive).attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> ."+e.getCSSSelector(t.wijCSS.icon)).addClass(this._triangleIconOpened),n.addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(n.hide(),this.element.find("> .ui-expander-header").addClass(t.wijCSS.stateDefault+" "+t.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> ."+e.getCSSSelector(t.wijCSS.icon)).addClass(this._triangleIconClosed)),this._isDisabled()&&(this.element.addClass(t.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(t.wijCSS.stateDisabled),n.addClass(t.wijCSS.stateDisabled)),this._bindLiveEvents()},r.prototype.destroy=function(){var e=this.options,t="wijmo-wijexpander ui-expander "+e.wijCSS.widget+" "+"ui-helper-reset ui-expander-icons "+"ui-expander-"+e.expandDirection+" "+e.wijCSS.stateFocus+" "+e.wijCSS.stateHover+" "+e.wijCSS.stateDisabled,r="ui-expander-header "+e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll+" "+e.wijCSS.stateActive+" "+this._headerCornerOpened,s=i+" "+e.wijCSS.content+" "+"ui-expander-content-active "+e.wijCSS.stateDisabled+" "+this._contentCornerOpened;this._unbindLiveEvents(),this.element.removeClass(t),this.headerIcon&&(this.headerIcon.remove(),this.headerIcon=null),this.headerLink&&(this.header.html(this.headerLink.html()),this.headerLink.remove(),this.headerLink=null),this.header.removeClass(r),this.header.removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex"),this.content.removeClass(s),this.content.removeAttr("role"),e.contentUrl&&this.content.html(this.storeContentHTML),this.header.insertBefore(this.content),n.wijmo.widget.prototype.destroy.apply(this,arguments)},r.prototype._bindLiveEvents=function(){var e=this.options,t="";this.element.off(".wijexpander"),n.support.isTouchEnabled&&n.support.isTouchEnabled()&&(t="wij"),this.element.on(t+"click.wijexpander",">.ui-expander-header",jQuery.proxy(this._onHeaderClick,this)),this.element.on(t+"mouseenter.wijexpander",".ui-expander-header",function(){n(this).addClass(e.wijCSS.stateHover)}),this.element.on(t+"mouseleave.wijexpander",".ui-expander-header",function(){n(this).removeClass(e.wijCSS.stateHover)}),this.element.on(t+"focus.wijexpander",".ui-expander-header",function(){n(this).addClass(e.wijCSS.stateFocus)}),this.element.on(t+"blur.wijexpander",".ui-expander-header",function(){n(this).removeClass(e.wijCSS.stateFocus)})},r.prototype._unbindLiveEvents=function(){this.element.off(".wijexpander",".ui-expander-header")},r.prototype._onDirectionChange=function(e,t,r){typeof r=="undefined"&&(r=null);var s,o,u,a,f,l,c,h,p=this.options;r&&r!==e&&this.element.removeClass("ui-expander-"+r),t&&(o=this.element.find(".ui-expander-header."+this._headerCornerOpened),o.removeClass(this._headerCornerOpened),u=this.element.find("."+i+"."+this._contentCornerOpened),u.removeClass(this._contentCornerOpened),a=this.element.find("."+this._triangleIconOpened),f=this.element.find("."+this._triangleIconClosed),a.removeClass(this._triangleIconOpened),f.removeClass(this._triangleIconClosed));switch(e){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened=p.wijCSS.iconArrowUp,this._triangleIconClosed=p.wijCSS.iconArrowRight,s=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened=p.wijCSS.iconArrowRight,this._triangleIconClosed=p.wijCSS.iconArrowDown,s=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened=p.wijCSS.iconArrowLeft,this._triangleIconClosed=p.wijCSS.iconArrowDown,s=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened=p.wijCSS.iconArrowDown,this._triangleIconClosed=p.wijCSS.iconArrowRight,s=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-bottom")}l=this.element.data("rightToLeft"),this.element.data("rightToLeft",s),t&&(a.addClass(this._triangleIconOpened),f.addClass(this._triangleIconClosed),o.addClass(this._headerCornerOpened),u.addClass(this._contentCornerOpened)),t&&s!==l&&this.element.children(".ui-expander-header").each(function(e,t){h=n(this),s?(c=h.next("."+i),h.remove(),h.insertAfter(c)):(c=h.prev("."+i),h.remove(),h.insertBefore(c))})},r.prototype.collapse=function(){var t=this.options,r,s,o,u,a=this.element.find("> ."+i);if(!t.allowExpand)return;return this.element.hasAllClasses(t.wijCSS.stateDisabled)?!1:this._trigger("beforeCollapse")?(t.animated?(r={expand:!1,content:a,complete:jQuery.proxy(function(){a.removeClass("ui-expander-content-active"),this._trigger("afterCollapse"),a.css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},s=n.wijmo.wijexpander.animations,o=t.duration,u=t.animated,u&&!s[u]&&!n.easing[u]&&(u="slide"),s[u]||(s[u]=function(e){this.slide(e,{easing:u,duration:o||700})}),s[u](r)):(a.hide(),this._trigger("afterCollapse")),this.element.find("> .ui-expander-header").removeClass(t.wijCSS.stateActive).removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass(t.wijCSS.stateDefault+" "+t.wijCSS.cornerAll).find("> ."+e.getCSSSelector(t.wijCSS.icon)).removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),this.options.expanded=!1,!0):!1},r.prototype.expand=function(){var t=this.options,r,s,o,u,a=this.element.find("> ."+i);if(!t.allowExpand)return;return this.element.hasAllClasses(t.wijCSS.stateDisabled)?!1:this._trigger("beforeExpand")?(t.animated?(r={expand:!0,content:a,complete:jQuery.proxy(function(){a.addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),this._trigger("afterExpand"),a.css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},s=n.wijmo.wijexpander.animations,o=t.duration,u=t.animated,u&&!s[u]&&!n.easing[u]&&(u="slide"),s[u]||(s[u]=function(e){this.slide(e,{easing:u,duration:o||700})}),s[u](r)):(a.show(),this._trigger("afterExpand")),this.element.find("> .ui-expander-header").removeClass(t.wijCSS.cornerAll).addClass(t.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> ."+e.getCSSSelector(t.wijCSS.icon)).removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),this.options.expanded=!0,!0):!1},r.prototype._onHeaderClick=function(e){this.option("expanded",!this.options.expanded)},r}(e.wijmoWidget);t.wijexpander=s;var o=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-content ui-body ui-body-b"},this.initSelector=":jqmData(role='wijexpander')",this.allowExpand=!0,this.animated="slide",this.contentUrl="",this.expanded=!0,this.expandDirection="bottom",this.beforeCollapse=null,this.beforeExpand=null,this.afterCollapse=null,this.afterExpand=null}return e}();s.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new o),n.wijmo.registerWidget(r,s.prototype),n.extend(n.wijmo.wijexpander,{animations:{slide:function(e,t){var r;e=n.extend({easing:"swing",duration:300},e,t),e.expand?(e.horizontal?r={width:"show",opacity:"show"}:r={height:"show",opacity:"show"},e.content.stop(!0,!0).animate(r,e)):(e.horizontal?r={width:"hide",opacity:"hide"}:r={height:"hide",opacity:"hide"},e.content.stop(!0,!0).animate(r,e))}}})})(e.expander||(e.expander={}));var t=e.expander})(wijmo||(wijmo={}));