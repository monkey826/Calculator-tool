var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},wijmo;(function(e){(function(t){var n=jQuery,r="wijtreemap",i={wijtreemap:"wijmo-wijtreemap",container:"wijmo-wijtreemap-container",item:"wijmo-wijtreemap-item",itemContainer:"wijmo-wijtreemap-itemcontainer",title:"wijmo-wijtreemap-title",label:"wijmo-wijtreemap-label",stateDefault:"wijstate-default",stateHover:"wijstate-hover",buttons:"wijmo-wijtreemap-buttons",backButton:"wijmo-wijtreemap-back",homeButton:"wijmo-wijtreemap-home"},s=[{max:"#00277d",mid:"#5f7ec1",min:"#a8bbe6"},{max:"#7d1f00",mid:"#c1785f",min:"#e6b7a8"},{max:"#007d27",mid:"#5fc17e",min:"#a8e6bc"},{max:"#7d003c",mid:"#c15f8f",min:"#e6a8c6"},{max:"#7d4300",mid:"#c1945f",min:"#e6c9a8"},{max:"#51007d",mid:"#9f5fc2",min:"#d1aae6"},{max:"#7d7400",mid:"#c2bb5f",min:"#e6e2a8"},{max:"#970000",mid:"#c25f5f",min:"#e6a9a9"}],o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(t,n){var r=this,i=r.options;if(n===i[t])return;e.prototype._setOption.call(this,t,n);switch(t){case"width":r._setWidth(n),r._repaintBox();break;case"height":r._setHeight(n),r._repaintBox();break;case"type":r._repaintBox();break;case"showDepth":break;case"data":r._refresh();break;case"valueBinding":r._resetBinding("value"),r._repaint();break;case"labelBinding":r._resetBinding("label"),r._resetLabels();break;case"colorBinding":r._resetBinding("color"),r._repaintColor();break;case"animation":break;case"showLabel":r._showLabels();break;case"labelFormatter":r._resetLabels();break;case"showTooltip":break;case"tooltipOptions":r._destroyTooltip(),r._createTooltip();break;case"showTitle":case"titleHeight":r._repaintBox();break;case"titleFormatter":r._resetTitles();break;case"minColor":case"minColorValue":case"midColor":case"midColorValue":case"maxColor":case"maxColorValue":r._resetColor(t,n);break;case"itemPainting":case"itemPainted":case"painting":case"painted":r._refresh();break;default:}},t.prototype.refresh=function(){this._refresh()},t.prototype._refresh=function(){var e=this;e._calcBounds(),e._recreateItems(),e._createColor(),e._destroyTooltip(),e._createTooltip(),e._recreateBackButtons()},t.prototype._create=function(){var t=this;e.prototype._create.call(this),t._decorate(!0),t._calcBounds(),t._createItems(),t._createColor(),t._bindEvents(),t._createBackButtons(),t._createTooltip()},t.prototype._createBackButtons=function(){var e=this,t=e.options.wijCSS,r=[i.backButton,t.tmbackButton,t.icon,t.iconArrowReturn],s=[i.homeButton,t.tmhomeButton,t.icon,t.iconHome],o=n("<span><span").addClass(i.buttons).addClass(t.tmbuttons),u=n("<span title='"+e.localizeString("backButtonTitle","back")+"'></span>").addClass(r.join(" ")),a=n("<span title='"+e.localizeString("homeButtonTitle","home")+"'></span>").addClass(s.join(" "));o.append(u).append(a),e.tmItemContainer.ele.append(o),e.buttons=o,e._showBackButtons(),e.buttons.bind("click",function(t){t.stopPropagation(),t.preventDefault();var r=n(t.target);r.hasClass(i.backButton)?e._play(e.currentContainer,e.currentContainer.parent):r.hasClass(i.homeButton)&&e._play(e.currentContainer,e.tmItemContainer)})},t.prototype.localizeString=function(e,t){var n=this.options;return n.localization&&n.localization[e]?n.localization[e]:t},t.prototype._destroyBackButtons=function(){var e=this.buttons;e&&(e.unbind("click"),e.remove(),this.buttons=null)},t.prototype._recreateBackButtons=function(){this._destroyBackButtons(),this._createBackButtons()},t.prototype._showBackButtons=function(){var e=this,t=e.options;if(!e.buttons)return;!t.showBackButtons||e.currentContainer===e.tmItemContainer?e.buttons.hide():e.buttons.show()},t.prototype._createTooltip=function(){if(!n.wijmo.wijtooltip)return;var e=this,t=e.options,r=t.tooltipOptions,s=r&&r.content,o=r&&r.showing;n("."+i.item+"."+i.stateDefault,e.element).wijtooltip(n.extend(!0,{position:{at:"right-30 top+30"}},r,{content:function(){var t=e._getItemByEle(this);if(t)return s?s.call(this,t.data):t.label()+": "+t.value()},showing:function(){if(!t.showTooltip||e._isDisabled())return!1;if(o)return o.apply(this,arguments)}}))},t.prototype._destroyTooltip=function(){if(n.wijmo.wijtooltip){var e=n("."+i.item+"."+i.stateDefault,this.element);e.data("wijmo-wijtooltip")&&e.wijtooltip("destroy")}},t.prototype._bindEvents=function(){var e=this;e.element.on("click.wijtreemap",n.proxy(e._onClick,e)).on("contextmenu.wijtreemap",n.proxy(e._onRightClick,e)).on("mouseover.wijtreemap",n.proxy(e._onMouseOver,e)).on("mouseout.wijtreemap",n.proxy(e._onMouseOut,e))},t.prototype._onClick=function(e){if(this._isDisabled())return;var t=this._getItemByEle(n(e.target));t&&this._play(t,t)},t.prototype._play=function(e,t){var n=this,r=n.tmItemContainer,i=t,s;if(i===n.currentContainer)return;s=n._isDrillDown(n.currentContainer.ele,i.ele);if(n._triggerPlaying(e,n.currentContainer,i,s)===!1)return;i!==r&&(r.box.width=0,r.box.height=0,r.applyBox()),n.currentContainer=i,n._resetContainerBox(i),i.applyBox(),n._triggerPlayed(i,s),n._showBackButtons()},t.prototype._resetContainerBox=function(e){e.box.width=this.width,e.box.height=this.height,e.box.top=0,e.box.left=0},t.prototype._isDrillDown=function(e,t){return n.contains(e.get(0),t.get(0))?!0:!1},t.prototype._triggerPlaying=function(e,t,n,r){var i=e,s=t,o=n,u;return u={currentData:s.data,targetData:o.data,clickItemData:i==null?null:i.data},r?this._triggerDrillingDown(u):this._triggerRollingUp(u)},t.prototype._triggerDrillingDown=function(e){return this._trigger("drillingDown",null,e)},t.prototype._triggerRollingUp=function(e){return this._trigger("rollingUp",null,e)},t.prototype._triggerPlayed=function(e,t){var n=e.data;t?this._triggerDrilledDown(n):this._triggerRolledUp(n)},t.prototype._triggerDrilledDown=function(e){this._trigger("drilledDown",null,e)},t.prototype._triggerRolledUp=function(e){this._trigger("rolledUp",null,e)},t.prototype._onRightClick=function(e){if(this._isDisabled())return!1;var t=this,r=t._getItemByEle(n(e.target));return t.currentContainer===t.tmItemContainer?!1:(t._play(r,t.currentContainer.parent),!1)},t.prototype._onMouseOver=function(e){if(this._isDisabled())return;var t=this._getItemByEle(n(e.target));t&&t.mouseOver()},t.prototype._onMouseOut=function(e){if(this._isDisabled())return;var t=this._getItemByEle(n(e.target));t&&t.mouseOut()},t.prototype._getItemByEle=function(e){var t=this,r,s,o=t.tmItemContainer.items,u;return r=e.closest("."+i.item),r&&r.length?(s=r.data("index"),s==null?null:(n.each(s,function(e,t){u=o[t];if(!u||!u.items)return!1;o=u.items}),u)):null},t.prototype.destroy=function(){var t=this;t._unbindEvents(),t._destroyItems(),t._destroyBackButtons(),t._getContainer().remove(),t._decorate(!1),t.colorConverter=null,t._destroyTooltip(),e.prototype.destroy.call(this)},t.prototype._unbindEvents=function(){this.element.off(".wijtreemap")},t.prototype._destroyItems=function(){this.tmItemContainer.destroy(),this._getContainer().empty()},t.prototype._createItems=function(){var e=this,t=e.options,n=e._getContainer();e._triggerPainting(),e.tmItemContainer=new f(n,t.data,e),e._resetContainerBox(e.tmItemContainer),e.tmItemContainer.render(),e.currentContainer=e.tmItemContainer,n.appendTo(e.element),e._triggerPainted()},t.prototype._triggerPainting=function(){this._trigger("painting",null,this.element)},t.prototype._triggerPainted=function(){this._trigger("painted")},t.prototype._recreateItems=function(){this._destroyItems(),this._createItems()},t.prototype._createColor=function(){var e=this,t=e.options,n=t.minColorValue,r=t.maxColorValue,i;if(n==null||r==null)i=e._getMinMaxItemValue(e.tmItemContainer),n==null&&(n=i.min),r==null&&(r=i.max);e.colorConverter&&(e.colorConverter=null),e.colorConverter=new u(t.minColor||"#000000",n,t.maxColor||"#ffffff",r,t.midColor,t.midColorValue),e.tmItemContainer.colorConverter=e.colorConverter,e._repaintColor()},t.prototype._resetColor=function(e,t){this.colorConverter["_reset"+e](t),this._repaintColor()},t.prototype._getColor=function(e){return this.colorConverter.getColor(e)},t.prototype._getMinMaxItemValue=function(e){var t=this,r=e,i={min:Number.MAX_VALUE,max:Number.MIN_VALUE},s;return n.each(r.items,function(e,n){var r=t._getMinMaxItemValue(n);r.max>i.max&&(i.max=r.max),r.min<i.min&&(i.min=r.min)}),e.value&&r.items.length===0&&(s=e.value(),s>i.max&&(i.max=s),s<i.min&&(i.min=s)),i},t.prototype._decorate=function(e){var t=this,n=t.element,r=t.options,s=[i.wijtreemap,r.wijCSS.widget,r.wijCSS.wijtreemap].join(" ");n.toggleClass(s,e)},t.prototype._getContainer=function(){var e=this,t=e.options,r=[i.container,t.wijCSS.tmcontainer,i.itemContainer,t.wijCSS.tmitemContainer].join(" ");return e.container||(e.container=n("<div></div>").addClass(r)),e.container},t.prototype._calcBounds=function(){var e=this,t=e.element,n=e.options,r=n.width?n.width:t.width(),i=n.height?n.height:t.height();e._setWidth(r),e._setHeight(i)},t.prototype._setWidth=function(e){this.width=e,this._getContainer().css("width",e.toString()),this.tmItemContainer&&(this.tmItemContainer.box.width=e)},t.prototype._setHeight=function(e){this.height=e,this._getContainer().css("height",e.toString()),this.tmItemContainer&&(this.tmItemContainer.box.height=e)},t.prototype._showLabels=function(){this.tmItemContainer.toggleLabelVisibility()},t.prototype._resetBinding=function(e){this.tmItemContainer.setBinding(e)},t.prototype._resetLabels=function(){this.tmItemContainer.setLabels(!1)},t.prototype._resetTitles=function(){this.tmItemContainer.setLabels(!0)},t.prototype._repaintBox=function(){this.currentContainer.applyBox()},t.prototype._repaintColor=function(){this.tmItemContainer.applyColor()},t.prototype._repaint=function(){this._repaintBox(),this._repaintColor()},t}(e.wijmoWidget);t.wijtreemap=o;var u=function(){function e(e,t,n,r,i,s){var o=this;o.minColor=o._convertColorToRGB(e),o.minColorValue=t,o.maxColor=o._convertColorToRGB(n),o.maxColorValue=r,o.midColorValue=o.originalMidColorValue=s,o._calculateMidColorValue(),o.midColor=o.originalMidColor=o._convertColorToRGB(i),o._calculateMidColor()}return e.prototype._resetminColor=function(e){var t=this;t.minColor=t._convertColorToRGB(e),t._calculateMidColor()},e.prototype._resetmidColor=function(e){var t=this;t.midColor=t.originalMidColor=t._convertColorToRGB(e),t._calculateMidColor()},e.prototype._resetmaxColor=function(e){var t=this;t.maxColor=t._convertColorToRGB(e),t._calculateMidColor()},e.prototype._resetminColorValue=function(e){var t=this;t.minColorValue=e,t._calculateMidColorValue()},e.prototype._resetmidColorValue=function(e){var t=this;t.midColorValue=t.originalMidColorValue=e,t._calculateMidColorValue()},e.prototype._resetmaxColorValue=function(e){var t=this;t.maxColorValue=e,t._calculateMidColorValue()},e.prototype._convertColorToRGB=function(e){if(e==null)return null;var t,r;t=n("<div></div>").css("background-color",e).css("background-color"),r=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(r.length<=3)return;return{R:parseInt(r[1]),G:parseInt(r[2]),B:parseInt(r[3])}},e.prototype._calculateMidColorValue=function(){var e=this;e.originalMidColorValue==null&&(e.midColorValue=(e.maxColorValue+e.minColorValue)/2)},e.prototype._calculateMidColor=function(){var e=this;e.originalMidColor==null&&(e.midColor=e._calculateColorByVal(e.midColorValue,!0))},e.prototype._calculateColorByVal=function(e,t){typeof t=="undefined"&&(t=!1);var r=this,i,s,o,u=r.maxColor,a=r.minColor,f=r.maxColorValue,l=r.minColorValue;if(e>r.maxColorValue)return n.extend({},r.maxColor);if(e<r.minColorValue)return n.extend({},r.minColor);if(!t){if(e===r.midColorValue)return n.extend({},r.midColor);e<r.midColorValue?(u=r.midColor,f=r.midColorValue):(a=r.midColor,l=r.midColorValue)}return r._getColor(e,u,f,a,l)},e.prototype._getColor=function(e,t,n,r,i){var s=this;return{R:s._getValueByRatio(e,t.R,n,r.R,i),G:s._getValueByRatio(e,t.G,n,r.G,i),B:s._getValueByRatio(e,t.B,n,r.B,i)}},e.prototype._getValueByRatio=function(e,t,n,r,i){var s=this;return Math.abs(r+Math.round((e-i)*(t-r)/(n-i)))},e.prototype.getColor=function(e){var t=this,n=t._calculateColorByVal(e);return"#"+t._hex(n.R)+t._hex(n.G)+t._hex(n.B)},e.prototype._hex=function(e){return("0"+e.toString(16)).slice(-2)},e}(),a=function(){function e(){}return e.squarified=function(t){var r=t.box,i=n.extend(!0,{},r),s=t.items.slice(),o,u=t.titleBox,a=u.width||u.height;a=i.width===0||i.height===0?0:a,i.top+=a,i.height-=a,o=i.width*i.height/t.total,u.width=i.width,u.height=a;do{var f=e.getRowedItems(s,i,o);e.layoutRowedItems(r,f,i,i.width>i.height)}while(s.length)},e.horizontal=function(t){var r=t.box,i=n.extend(!0,{},r),s=t.items,o=t.titleBox,u=o.width||o.height;u=i.width===0||i.height===0?0:u,i.left+=u,i.width-=u,o.width=u,o.height=i.height,n.each(s,function(n,s){var o=[{item:s,val:s.value()*(r.width-u)*r.height/t.total}];e.layoutRowedItems(r,o,i,!1)})},e.vertical=function(t){var r=t.box,i=n.extend(!0,{},r),s=t.items,o=t.titleBox,u=o.width||o.height;u=i.width===0||i.height===0?0:u,i.top+=u,i.height-=u,o.width=i.width,o.height=u,n.each(s,function(n,s){var o=[{item:s,val:s.value()*r.width*(r.height-u)/t.total}];e.layoutRowedItems(r,o,i,!0)})},e.getNarrowLen=function(e){return Math.min(e.width,e.height)},e.getRowedItem=function(e,t,n){var r=n*e.value();return{item:e,val:r}},e.getRowedItems=function(t,n,r){var i=t.shift(),s=[],o=[],u=e.getNarrowLen(n),a=e.getRowedItem(i,n,r);s.push(a),o.push(a);if(t.length>0)do{o.push(e.getRowedItem(t[0],n,r));if(!(e.worst(s,u)>e.worst(o,u)))break;s=o.slice(),t.shift()}while(t.length);return s},e.layoutRowedItems=function(t,r,i,s){var o=i.left,u=i.top,a=o+i.width,f=u+i.height,l,c=e.sumRowedArray(r);s?(l=i.height===0?0:c/i.height,o+l>=a&&(l=a-o),n.each(r,function(e,i){var s=l===0?0:i.val/l;if(u+s>f||e===r.length-1)s=f-u;n.extend(i.item.box,{left:o-t.left,top:u-t.top,width:l,height:s}),u+=s}),i.left+=l,i.width-=l):(l=i.width===0?0:c/i.width,u+l>=f&&(l=f-u),n.each(r,function(e,i){var s=l===0?0:i.val/l;if(o+s>a||e===r.length-1)s=a-o;n.extend(i.item.box,{left:o-t.left,top:u-t.top,width:s,height:l}),o+=s}),i.top+=l,i.height-=l)},e.sumRowedArray=function(e){var t=0,n=e.length;for(var r=0;r<n;r++)t+=e[r].val;return t},e.worst=function(t,r){var i,s,o,u=e.sumRowedArray(t),a=u*u,f=r*r;return i=s=t[0].val,n.each(t,function(e,t){t.val>i?i=t.val:t.val<s&&(s=t.val)}),Math.max(f*i/a,a/(f*s))},e}(),f=function(){function e(e,t,n,r){typeof r=="undefined"&&(r=null);var i=this;i.level=r&&!isNaN(r.level)?r.level+1:0,i.box=i._initBox(),i.titleBox=i._initBox(),i.tm=n,i.ele=e,i.data=t,i.parent=r,i.depth=i.parent===null?0:i.parent.depth+1,i.total=0,i.items=[],i._init()}return e.prototype._initBox=function(){return{width:0,height:0,left:0,top:0}},e.prototype._init=function(){var e=this,t;if(!e.data||e.data.length===0)return;n.each(e.data,function(n,r){t=e._createTMItem(r,n),e.items.push(t),e.total+=t.value()})},e.prototype._createTMItem=function(e,t){var r=this,s=n("<div></div>"),o=r.tm.options,u=[i.item,o.wijCSS.tmitem],a;return a=new l(s,e,r.tm,r,t),a.items.length>0?u.push(i.itemContainer,o.wijCSS.tmitemContainer):u.push(o.wijCSS.stateDefault,i.stateDefault),s.addClass(u.join(" ")),a},e.prototype.getColorConverter=function(){return this.colorConverter?this.colorConverter:this.parent?this.parent.getColorConverter():null},e.prototype.toggleLabelVisibility=function(){var e=this;e.items&&e.items.length&&n.each(e.items,function(e,t){t.toggleLabelVisibility()})},e.prototype.setLabels=function(e){var t=this;t.items&&t.items.length&&n.each(t.items,function(t,n){n.setLabels(e)})},e.prototype.setBinding=function(e){var t=this;t.items&&t.items.length&&n.each(t.items,function(t,n){n.setBinding(e)})},e.prototype.applyBox=function(){var e=this,t={applyBox:!0,applyColor:!1,applyHtml:!1};e.titleBox=e._initBox(),e._render(t),e._resetParentTitle()},e.prototype._resetParentTitle=function(){var e=this,t=e.tm.options,n=e.parent,r;t.showTitle&&n!=null&&n instanceof l&&(r=n.ele,r.css({left:0,top:0}),n._resetParentTitle())},e.prototype.applyColor=function(){var e=this,t={applyBox:!1,applyColor:!0,applyHtml:!1};e._render(t)},e.prototype.render=function(){var e={applyBox:!0,applyColor:!1,applyHtml:!0};this._render(e)},e.prototype._render=function(e){var t=this;t.items&&t.items.length?t._renderChildren(e):t._renderContent(e)},e.prototype._renderChildren=function(e){var t=this,r=t.tm.options,i=r.type||"squarified";e.applyBox&&a[i](t),n.each(t.items,function(t,n){n._render(e)})},e.prototype._renderContent=function(e){},e.prototype._renderColor=function(){},e.prototype.destroy=function(){n.each(this.items,function(e,t){t.destroy()}),this.items=null},e}(),l=function(e){function t(r,i,s,o,u){var a=this;a._label="label",a._value=0,a._color=null,a.titleEle=n("<div></div>"),a.labelEle=n("<span></span>"),a._isContent=!1,a._isCustomizeHtml=!1,o instanceof t?a.index=o.index.concat([u]):a.index=[u],r.data("index",a.index),e.call(this,r,i,s,o)}return __extends(t,e),t.prototype._init=function(){var e=this,t=e.data,r=e.tm.options,i=s[e.index[e.index.length-1]%s.length],o;e._reset("label")._reset("value")._reset("color");if(!t.items||t.items.length===0)return;n.each(t.items,function(t,n){o=e._createTMItem(n,t),e.items.push(o)}),e.total=e.value(),t.minColor&&t.maxColor?e._createColorConverter(t.maxColor,t.midColor,t.minColor):e.level===1&&(r.maxColor==null||r.minColor==null)&&e._createColorConverter(i.max,i.mid,i.min)},t.prototype._createColorConverter=function(e,t,n){var r=this,i=r.data,s=i.minColorValue,o=i.maxColorValue,a;if(s==null||o==null)a=r.tm._getMinMaxItemValue(r),s==null&&(s=a.min),o==null&&(o=a.max);r.colorConverter&&(r.colorConverter=null),r.colorConverter=new u(n,s,e,o,t,i.midColorValue)},t.prototype._applyBox=function(){var e=this,t=e.box;e.ele.css({width:t.width,height:t.height,left:t.left,top:t.top})},t.prototype._applyTitleBox=function(){var e=this,t=e.tm.options,n=e.titleBox;e.titleEle.css({top:0,left:0,width:n.width,height:n.height}),t.showTitle?e.titleEle.show():e.titleEle.hide()},t.prototype._createTitle=function(){var e=this,t=e.tm.options.wijCSS;e.titleEle.addClass([i.title,t.header,t.tmtitle].join(" ")),e.titleEle.prependTo(e.ele)},t.prototype._setTitle=function(){var e=this,t=e.tm.options,r=e.label(),i=t.titleFormatter;i&&n.isFunction(i)&&(r=n.proxy(i,e.data)()),this.titleEle.html(r)},t.prototype._createLabel=function(){var e=this,t=e.tm.options;e.labelEle.addClass([i.label,t.wijCSS.tmlabel].join(" ")),e.labelEle.prependTo(e.ele)},t.prototype._setLabel=function(){var e=this,t=e.tm.options,r=e.label(),i=t.labelFormatter;i&&n.isFunction(i)&&(r=n.proxy(i,e.data)()),e.labelEle.html(r)},t.prototype._render=function(t){var n=this;e.prototype._render.call(this,t),t.applyBox&&(n._applyBox(),n._applyTitleBox()),t.applyHtml&&n.ele.appendTo(n.parent.ele)},t.prototype._renderChildren=function(t){var n=this,r=n.tm.options;n._isContent=!1,t.applyHtml&&(n._createTitle(),n._setTitle()),t.applyBox&&(n.titleBox.height=0,r.showTitle?n.titleBox.width=parseInt(r.titleHeight):n.titleBox.width=0),e.prototype._renderChildren.call(this,t)},t.prototype._renderContent=function(t){var r=this,i=t.applyHtml,s,o=r.tm;r._isContent=!0,e.prototype._renderContent.call(this,t),i&&(s=r._triggerItemPainting(n.extend(!0,{htmlTemplate:""},r.data)),typeof s=="string"&&s.length>0?(r._isCustomizeHtml=!0,r.ele.empty(),r.ele.html(s),r._triggerItemPainted()):r._isCustomizeHtml=!1),r._isCustomizeHtml||(i&&(r._renderHtml(),r._triggerItemPainted()),t.applyColor&&r._renderColor())},t.prototype._triggerItemPainting=function(e){return this.tm._trigger("itemPainting",null,e),e.htmlTemplate},t.prototype._triggerItemPainted=function(){this.tm._trigger("itemPainted")},t.prototype._renderHtml=function(){var e=this;e.ele.empty(),e._createLabel(),e._setLabel(),e.toggleLabelVisibility()},t.prototype._renderColor=function(){var e=this,t=e.tm,n=e.color();n==null&&(n=e.parent.getColorConverter().getColor(e.value())),e.ele.css("background-color",n)},t.prototype.toggleLabelVisibility=function(){var t=this,n=t.tm.options;t._isContent?n.showLabel?t.labelEle.show():t.labelEle.hide():e.prototype.toggleLabelVisibility.call(this)},t.prototype.setLabels=function(t){var n=this;n._isContent?t||n._setLabel():(t&&n._setTitle(),e.prototype.setLabels.call(this,t))},t.prototype.setBinding=function(t){this._reset(t),this._isContent||e.prototype.setBinding.call(this,t)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.colorConverter&&(this.colorConverter=null)},t.prototype._reset=function(e){var t=this,n=t.tm.options,r=n[e+"Binding"]||e;return r in t.data&&(t["_"+e]=t.data[r]),t},t.prototype.label=function(e){var t=this;return e===undefined?t._label:(t._label=e,t)},t.prototype.value=function(e){var t=this;return e===undefined?t._value:(t._value=e,t)},t.prototype.color=function(e){var t=this;return e===undefined?t._color:(t._color=e,t)},t.prototype.click=function(e){},t.prototype.mouseOver=function(){if(this._isContent){var e=this.tm.options;this.ele.addClass(e.wijCSS.stateHover).addClass(i.stateHover)}},t.prototype.mouseOut=function(){if(this._isContent){var e=this.tm.options;this.ele.removeClass(e.wijCSS.stateHover).removeClass(i.stateHover)}},t}(f),c=function(){function e(){this.initSelector=":jqmData(role='wijtreemap')",this.wijCSS={wijtreemap:"",tmcontainer:"",tmitem:"",tmitemContainer:"",tmtitle:"",tmlabel:"",tmbuttons:"",tmbackButton:"",tmhomeButton:""},this.wijMobileCSS={},this.width=null,this.height=null,this.type="squarified",this.data=null,this.valueBinding=null,this.labelBinding=null,this.colorBinding=null,this.showLabel=!0,this.labelFormatter=null,this.showTooltip=!1,this.tooltipOptions=null,this.showTitle=!0,this.titleHeight=20,this.titleFormatter=null,this.minColor=null,this.minColorValue=null,this.midColor=null,this.midColorValue=null,this.maxColor=null,this.maxColorValue=null,this.showBackButtons=!1,this.itemPainting=null,this.itemPainted=null,this.painting=null,this.painted=null,this.drillingDown=null,this.drilledDown=null,this.rollingUp=null,this.rolledUp=null}return e}();o.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new c),n.wijmo.registerWidget(r,o.prototype)})(e.treemap||(e.treemap={}));var t=e.treemap})(wijmo||(wijmo={}));